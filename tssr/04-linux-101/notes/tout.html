<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><style>body {
  max-width: 980px;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 45px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable,
.markdown-body .highlighttable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr,
.markdown-body .highlighttable {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite,
.markdown-body .highlighttable pre,
.markdown-body .highlighttable div.highlight {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td,
.markdown-body .highlighttable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headerlink {
  font: normal 400 16px fontawesome-mini;
  vertical-align: middle;
  margin-left: -16px;
  float: left;
  display: inline-block;
  text-decoration: none;
  opacity: 0;
  color: #333;
}

.markdown-body .headerlink:focus {
  outline: none;
}

.markdown-body h1 .headerlink {
  margin-top: 0.8rem;
}

.markdown-body h2 .headerlink,
.markdown-body h3 .headerlink {
  margin-top: 0.6rem;
}

.markdown-body h4 .headerlink {
  margin-top: 0.2rem;
}

.markdown-body h5 .headerlink,
.markdown-body h6 .headerlink {
  margin-top: 0;
}

.markdown-body .headerlink:hover,
.markdown-body h1:hover .headerlink,
.markdown-body h2:hover .headerlink,
.markdown-body h3:hover .headerlink,
.markdown-body h4:hover .headerlink,
.markdown-body h5:hover .headerlink,
.markdown-body h6:hover .headerlink {
  opacity: 1;
  text-decoration: none;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite,
.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre,
.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* MultiMarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px fontawesome-mini;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\e157';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

.markdown-body diagram-div, .markdown-body div.uml-sequence-diagram, .markdown-body, div.uml-flowchart {
  overflow: auto;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><style>/*GitHub*/
.highlight {background-color:#fff;color:#333333;}
.highlight .hll {background-color:#ffffcc;}
.highlight .c{color:#999988;font-style:italic}
.highlight .err{color:#a61717;background-color:#e3d2d2}
.highlight .k{font-weight:bold}
.highlight .o{font-weight:bold}
.highlight .cm{color:#999988;font-style:italic}
.highlight .cp{color:#999999;font-weight:bold}
.highlight .c1{color:#999988;font-style:italic}
.highlight .cs{color:#999999;font-weight:bold;font-style:italic}
.highlight .gd{color:#000000;background-color:#ffdddd}
.highlight .ge{font-style:italic}
.highlight .gr{color:#aa0000}
.highlight .gh{color:#999999}
.highlight .gi{color:#000000;background-color:#ddffdd}
.highlight .go{color:#888888}
.highlight .gp{color:#555555}
.highlight .gs{font-weight:bold}
.highlight .gu{color:#800080;font-weight:bold}
.highlight .gt{color:#aa0000}
.highlight .kc{font-weight:bold}
.highlight .kd{font-weight:bold}
.highlight .kn{font-weight:bold}
.highlight .kp{font-weight:bold}
.highlight .kr{font-weight:bold}
.highlight .kt{color:#445588;font-weight:bold}
.highlight .m{color:#009999}
.highlight .s{color:#dd1144}
.highlight .n{color:#333333}
.highlight .na{color:teal}
.highlight .nb{color:#0086b3}
.highlight .nc{color:#445588;font-weight:bold}
.highlight .no{color:teal}
.highlight .ni{color:purple}
.highlight .ne{color:#990000;font-weight:bold}
.highlight .nf{color:#990000;font-weight:bold}
.highlight .nn{color:#555555}
.highlight .nt{color:navy}
.highlight .nv{color:teal}
.highlight .ow{font-weight:bold}
.highlight .w{color:#bbbbbb}
.highlight .mf{color:#009999}
.highlight .mh{color:#009999}
.highlight .mi{color:#009999}
.highlight .mo{color:#009999}
.highlight .sb{color:#dd1144}
.highlight .sc{color:#dd1144}
.highlight .sd{color:#dd1144}
.highlight .s2{color:#dd1144}
.highlight .se{color:#dd1144}
.highlight .sh{color:#dd1144}
.highlight .si{color:#dd1144}
.highlight .sx{color:#dd1144}
.highlight .sr{color:#009926}
.highlight .s1{color:#dd1144}
.highlight .ss{color:#990073}
.highlight .bp{color:#999999}
.highlight .vc{color:teal}
.highlight .vg{color:teal}
.highlight .vi{color:teal}
.highlight .il{color:#009999}
.highlight .gc{color:#999;background-color:#EAF2F5}
</style><title>Linux 101 | TPs</title></head><body><article class="markdown-body"><h2 id="04-linux-101">04 - Linux 101<a class="headerlink" href="#04-linux-101" title="Permanent link"></a></h2>
<p>Du 14/02 au 18/02 - Formateur : Hasan KURTULUS </p>
<div class="toc">
<ul>
<li><a href="#04-linux-101">04 - Linux 101</a><ul>
<li><a href="#tp-01-premieres-commandes">TP 01 - Premières commandes</a><ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#1-changer-le-mot-de-passe-et-tester">1. changer le mot de passe et tester</a></li>
<li><a href="#2-depuis-quand-etes-vous-connecte">2. Depuis quand êtes-vous connecté ?</a></li>
<li><a href="#3-quels-sont-les-utilisateurs-qui-travaillent-sur-le-serveur">3. Quels sont les utilisateurs qui travaillent sur le serveur ?</a></li>
<li><a href="#4-quel-est-le-temps-dinactivite-des-utilisateurs-connectes">4. Quel est le temps d&rsquo;inactivité des utilisateurs connectés ?</a></li>
<li><a href="#5-quel-est-le-numero-de-processus-de-votre-session">5. Quel est le numéro de processus de votre session ?</a></li>
<li><a href="#6-afficher-details-user-group">6. Afficher détails user &amp; group</a></li>
<li><a href="#7-afficher-heure">7. Afficher heure</a></li>
<li><a href="#8-afficher-date-formatee">8. Afficher date formatée</a></li>
<li><a href="#9-cal">9. cal</a></li>
<li><a href="#bonus-secondes-depuis-epoch">Bonus : secondes depuis epoch</a></li>
</ul>
</li>
<li><a href="#tp-02-manipuler-les-fichiers">TP 02 - Manipuler les fichiers</a></li>
<li><a href="#tp-03-afficher-le-contenu-des-fichiers">TP 03 - Afficher le contenu des fichiers</a></li>
<li><a href="#tp-04-les-liens">TP 04 - Les Liens</a></li>
<li><a href="#tp-05-recherche-de-contenu-et-de-fichiers">TP 05 - Recherche de contenu et de fichiers</a></li>
<li><a href="#tp-06-edition-de-texte-avec-vim">TP 06 - Edition de texte avec vim</a></li>
</ul>
</li>
<li><a href="#permet-domettre-lechappement-des-characteres-speciaux">permet d&rsquo;omettre l&rsquo;echappement des characteres spéciaux</a><ul>
<li><a href="#tp-07-redirections-dentreessorties">TP 07 - Redirections d&rsquo;entrées/sorties</a></li>
<li><a href="#tp-08-sauvegarde-de-fichiers">TP 08 - Sauvegarde de fichiers</a><ul>
<li><a href="#setup_1">Setup</a></li>
<li><a href="#questions">Questions</a><ul>
<li><a href="#1-tar-cvf-creation">1. tar -cvf : Création</a></li>
<li><a href="#3-tar-czvf-compression-en-gzip-targz">3. tar -czvf : Compression en gzip (tar.gz)</a></li>
<li><a href="#3-tar-cvjf-compression-en-bzip2-tarbz2">3. tar -cvjf : Compression en bzip2 (tar.bz2)</a></li>
<li><a href="#4-comparer-les-tailles-darchives-tar-tarbz2-targz">4. Comparer les tailles d&rsquo;archives (tar &gt; tar.bz2 &gt; tar.gz)</a></li>
<li><a href="#5-tar-xvf-decompression-restauration">5. tar -xvf : Décompression / Restauration</a></li>
<li><a href="#6-tar-cvf-footar-excludefile-bar-exclusion-de-repertoire">6. tar -cvf foo.tar &ndash;exclude=FILE bar/ : Exclusion de répertoire</a></li>
<li><a href="#7-tar-unvf-update-only-newer-files-exclude">7. tar -uNvf : update only newer files + exclude</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h3 id="tp-01-premieres-commandes">TP 01 - Premières commandes<a class="headerlink" href="#tp-01-premieres-commandes" title="Permanent link"></a></h3>
<h4 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link"></a></h4>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh </li>
</ul>
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div>

<h4 id="1-changer-le-mot-de-passe-et-tester">1. changer le mot de passe et tester<a class="headerlink" href="#1-changer-le-mot-de-passe-et-tester" title="Permanent link"></a></h4>
<div class="highlight"><pre><span class="nv">$ </span>passwrd     <span class="c1"># will prompt</span>
</pre></div>

<h4 id="2-depuis-quand-etes-vous-connecte">2. Depuis quand êtes-vous connecté ?<a class="headerlink" href="#2-depuis-quand-etes-vous-connecte" title="Permanent link"></a></h4>
<div class="highlight"><pre><span class="nv">$ </span>who -tuH
NOM      LIGNE        HEURE                   PID COMMENTAIRE
user01   tty1         2022-02-14 10:32 00:49         671
eni      pts/0        2022-02-14 10:53   .          <span class="m">1047</span> <span class="o">(</span>10.52.0.254<span class="o">)</span>
user18   pts/1        2022-02-14 11:05   .          <span class="m">1333</span> <span class="o">(</span>10.52.101.13<span class="o">)</span>
user20   pts/2        2022-02-14 11:04   .          <span class="m">1231</span> <span class="o">(</span>10.52.101.8<span class="o">)</span>
user02   pts/3        2022-02-14 11:05 00:03        <span class="m">1343</span> <span class="o">(</span>10.52.101.17<span class="o">)</span>
user01   pts/4        2022-02-14 11:04 00:04        <span class="m">1251</span> <span class="o">(</span>10.52.101.7<span class="o">)</span>
user15   pts/5        2022-02-14 11:18   .          <span class="m">1709</span> <span class="o">(</span>172.25.35.73<span class="o">)</span>
user10   pts/6        2022-02-14 11:04   .          <span class="m">1302</span> <span class="o">(</span>10.52.101.6<span class="o">)</span>
user19   pts/7        2022-02-14 11:04 00:05        <span class="m">1253</span> <span class="o">(</span>10.52.101.10<span class="o">)</span>
user13   pts/8        2022-02-14 11:04   .          <span class="m">1289</span> <span class="o">(</span>10.52.101.15<span class="o">)</span>
user08   pts/9        2022-02-14 10:52   .          <span class="m">1001</span> <span class="o">(</span>10.52.101.18<span class="o">)</span>
user17   pts/10       2022-02-14 11:08   .          <span class="m">1443</span> <span class="o">(</span>10.52.101.12<span class="o">)</span>
user07   pts/11       2022-02-14 11:07   .          <span class="m">1374</span> <span class="o">(</span>10.52.101.20<span class="o">)</span>
user09   pts/12       2022-02-14 11:01   .          <span class="m">1168</span> <span class="o">(</span>10.52.101.20<span class="o">)</span>
user03   pts/13       2022-02-14 11:08   .          <span class="m">1396</span> <span class="o">(</span>10.52.101.14<span class="o">)</span>
user04   pts/14       2022-02-14 11:08 00:13        <span class="m">1392</span> <span class="o">(</span>10.52.101.18<span class="o">)</span>
user16   pts/15       2022-02-14 11:19   .          <span class="m">1739</span> <span class="o">(</span>172.25.35.212<span class="o">)</span>
user14   pts/16       2022-02-14 11:16   .          <span class="m">1655</span> <span class="o">(</span>10.52.101.3<span class="o">)</span>
</pre></div>

<h4 id="3-quels-sont-les-utilisateurs-qui-travaillent-sur-le-serveur">3. Quels sont les utilisateurs qui travaillent sur le serveur ?<a class="headerlink" href="#3-quels-sont-les-utilisateurs-qui-travaillent-sur-le-serveur" title="Permanent link"></a></h4>
<p>Voir colonne NOM</p>
<h4 id="4-quel-est-le-temps-dinactivite-des-utilisateurs-connectes">4. Quel est le temps d&rsquo;inactivité des utilisateurs connectés ?<a class="headerlink" href="#4-quel-est-le-temps-dinactivite-des-utilisateurs-connectes" title="Permanent link"></a></h4>
<p>voir colonne HEURE</p>
<h4 id="5-quel-est-le-numero-de-processus-de-votre-session">5. Quel est le numéro de processus de votre session ?<a class="headerlink" href="#5-quel-est-le-numero-de-processus-de-votre-session" title="Permanent link"></a></h4>
<p>voir colonne PID (moi: 1709)</p>
<h4 id="6-afficher-details-user-group">6. Afficher détails user &amp; group<a class="headerlink" href="#6-afficher-details-user-group" title="Permanent link"></a></h4>
<ol start="6">
<li>Afficher vos identifiants d&rsquo;utilisateur et de groupes (UID et GID) et relevez les noms de vos
groupes d’appartenance.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>id
<span class="nv">uid</span><span class="o">=</span>1185<span class="o">(</span>user15<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1185<span class="o">(</span>user15<span class="o">)</span> <span class="nv">groupes</span><span class="o">=</span>1185<span class="o">(</span>user15<span class="o">)</span>,100<span class="o">(</span>users<span class="o">)</span>,1000<span class="o">(</span>eni<span class="o">)</span>
</pre></div>

<h4 id="7-afficher-heure">7. Afficher heure<a class="headerlink" href="#7-afficher-heure" title="Permanent link"></a></h4>
<ol start="7">
<li>A l&rsquo;invite de commande, afficher juste l’heure.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>date
lundi <span class="m">14</span> février 2022, 11:33:43 <span class="o">(</span>UTC+0100<span class="o">)</span>
</pre></div>

<h4 id="8-afficher-date-formatee">8. Afficher date formatée<a class="headerlink" href="#8-afficher-date-formatee" title="Permanent link"></a></h4>
<ol start="8">
<li>A l&rsquo;invite, afficher juste la date, suivant l&rsquo;exemple : lundi 24 septembre 2009</li>
</ol>
<p>Voir <code>date --help</code> </p>
<div class="highlight"><pre><span class="nv">$ </span>date +<span class="s2">&quot;%A %d %B %Y&quot;</span>
lundi <span class="m">14</span> février 2022
</pre></div>

<h4 id="9-cal">9. cal<a class="headerlink" href="#9-cal" title="Permanent link"></a></h4>
<ol start="9">
<li>Commande cal avec et sans argument :</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>cal
    Février <span class="m">2022</span>      
di lu ma me je ve sa  
       <span class="m">1</span>  <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  
 <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  <span class="m">9</span> <span class="m">10</span> <span class="m">11</span> <span class="m">12</span>  
<span class="m">13</span> <span class="m">14</span> <span class="m">15</span> <span class="m">16</span> <span class="m">17</span> <span class="m">18</span> <span class="m">19</span>  
<span class="m">20</span> <span class="m">21</span> <span class="m">22</span> <span class="m">23</span> <span class="m">24</span> <span class="m">25</span> <span class="m">26</span>  
<span class="m">27</span> <span class="m">28</span>  
</pre></div>

<p>a) Afficher le calendrier de Janvier 1900 puis celui de toute l’année.</p>
<div class="highlight"><pre>$ cal 1 1900
        Janvier 1900      
    di lu ma me je ve sa  
        1  2  3  4  5  6  
     7  8  9 10 11 12 13  
    14 15 16 17 18 19 20  
    21 22 23 24 25 26 27  
    28 29 30 31
</pre></div>

<p>b) Afficher le calendrier du mois de Janvier de l&rsquo;année courante.    </p>
<div class="highlight"><pre><span class="nv">$ </span>cal <span class="m">1</span> 2022
        Janvier <span class="m">2022</span>      
    di lu ma me je ve sa  
                       <span class="m">1</span>  
     <span class="m">2</span>  <span class="m">3</span>  <span class="m">4</span>  <span class="m">5</span>  <span class="m">6</span>  <span class="m">7</span>  <span class="m">8</span>  
     <span class="m">9</span> <span class="m">10</span> <span class="m">11</span> <span class="m">12</span> <span class="m">13</span> <span class="m">14</span> <span class="m">15</span>  
    <span class="m">16</span> <span class="m">17</span> <span class="m">18</span> <span class="m">19</span> <span class="m">20</span> <span class="m">21</span> <span class="m">22</span>  
    <span class="m">23</span> <span class="m">24</span> <span class="m">25</span> <span class="m">26</span> <span class="m">27</span> <span class="m">28</span> <span class="m">29</span>  
    <span class="m">30</span> 31
</pre></div>

<p>c) Afficher le calendrier de septembre 1752, quelle est la particularité de ce mois ?</p>
<div class="highlight"><pre><span class="nv">$ </span>cal <span class="m">9</span> 1752
   Septembre <span class="m">1752</span>     
di lu ma me je ve sa  
       <span class="m">1</span>  <span class="m">2</span> <span class="m">14</span> <span class="m">15</span> <span class="m">16</span>  
<span class="m">17</span> <span class="m">18</span> <span class="m">19</span> <span class="m">20</span> <span class="m">21</span> <span class="m">22</span> <span class="m">23</span>  
<span class="m">24</span> <span class="m">25</span> <span class="m">26</span> <span class="m">27</span> <span class="m">28</span> <span class="m">29</span> 30
</pre></div>

<p>Ca saute de 10 jours à cause passage à un nouveau calendrier.</p>
<blockquote>
<p>1752 (MDCCLII) was a leap year starting on Saturday of the Gregorian<br />
calendar and a leap year starting on Wednesday of the Julian calendar 
[&hellip;]
(Wikipedia)</p>
</blockquote>
<h4 id="bonus-secondes-depuis-epoch">Bonus : secondes depuis epoch<a class="headerlink" href="#bonus-secondes-depuis-epoch" title="Permanent link"></a></h4>
<ol start="10">
<li><strong>BONUS</strong> Combien de secondes se sont écoulées depuis que Unix existe ?</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>date +%s
1644835775
</pre></div>

<h3 id="tp-02-manipuler-les-fichiers">TP 02 - Manipuler les fichiers<a class="headerlink" href="#tp-02-manipuler-les-fichiers" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>
<p>Où êtes-vous positionné dans l&rsquo;arborescence ?
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$PWD</span>
/home/user15
</pre></div></p>
</li>
<li>
<p>Existe-t-il des fichiers et des répertoires ?
<div class="highlight"><pre><span class="nv">$ </span>ls
Edition
</pre></div></p>
</li>
<li>
<p>Créer un fichier vide appelé MonPremierFichier.
<div class="highlight"><pre><span class="nv">$ </span>mkdir MonPremierFichier
</pre></div></p>
</li>
<li>
<p>Afficher les permissions et le propriétaire attribués à ce fichier.
<div class="highlight"><pre><span class="nv">$ </span>ls -l
total 8
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">590</span> juin  <span class="m">22</span>  <span class="m">2021</span> Edition
drwxr-xr-x <span class="m">2</span> user15 user15 <span class="m">4096</span> févr. <span class="m">14</span> 12:02 MonPremierFichier
</pre></div></p>
</li>
<li>
<p>Afficher les fichiers se terminant par l&rsquo;extension .conf dans le répertoire /etc.
<div class="highlight"><pre><span class="nv">$ </span>ls /etc/*.conf
/etc/adduser.conf            /etc/host.conf        /etc/pam.conf
/etc/ca-certificates.conf    /etc/kernel-img.conf  /etc/reportbug.conf
/etc/debconf.conf            /etc/ld.so.conf       /etc/resolv.conf
/etc/deluser.conf            /etc/libaudit.conf    /etc/rsyslog.conf
/etc/discover-modprobe.conf  /etc/logrotate.conf   /etc/sysctl.conf
/etc/gai.conf                /etc/mke2fs.conf      /etc/ucf.conf
/etc/hdparm.conf             /etc/nsswitch.conf    /etc/xattr.conf
</pre></div></p>
</li>
<li>
<p>Afficher les caractéristiques détaillées du répertoire /tmp (pas son contenu), 
que remarquez-vous de particulier ?</p>
</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ls -ld /tmp
drwxrwxrwt <span class="m">8</span> root root <span class="m">4096</span> févr. <span class="m">14</span> 12:06 /tmp
</pre></div>

<ul>
<li><code>l</code> = liste</li>
<li><code>d</code> = liste le contenu uniquement</li>
</ul>
<p>Le flag <code>t</code> indique que c&rsquo;est un dossier temporaire ?</p>
<ol start="7">
<li>Afficher les fichiers et répertoires (pas leur contenu) dont le nom 
commence par a, b, c ou d du répertoire /etc.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ls -d /etc/<span class="o">[</span>a-d<span class="o">]</span>*
/etc/adduser.conf            /etc/ca-certificates       /etc/debconf.conf
/etc/alternatives            /etc/ca-certificates.conf  /etc/debian_version
/etc/apm                     /etc/calendar              /etc/default
/etc/apparmor                /etc/console-setup         /etc/deluser.conf
/etc/apparmor.d              /etc/cron.d                /etc/dhcp
/etc/apt                     /etc/cron.daily            /etc/dictionaries-common
/etc/bash.bashrc             /etc/cron.hourly           /etc/discover.conf.d
/etc/bash_completion         /etc/cron.monthly          /etc/discover-modprobe.conf
/etc/bind                    /etc/crontab               /etc/dpkg
/etc/bindresvport.blacklist  /etc/cron.weekly
/etc/binfmt.d                /etc/dbus-1
</pre></div>

<ol start="8">
<li>Créer l&rsquo;arborescence suivante dans votre répertoire de travail ($HOME) :
<div class="highlight"><pre>        $HOME
           |
       +---+---+
       |       |
      bin     Tp 
               |
      +--------+-------+     
      |        |       |
    Bourne KornShell Divers
                       |
               +-------+-------+
               |       |       |
             Sources  lib   Executables
</pre></div></li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>mkdir -pv bin Tp/<span class="o">{</span>Bourne,KornShell<span class="o">}</span> Tp/Divers/<span class="o">{</span>Sources,lib,Executables<span class="o">}</span> 
mkdir: création du répertoire <span class="s1">&#39;bin&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/Bourne&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/KornShell&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/Divers&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/Divers/Sources&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/Divers/lib&#39;</span>
mkdir: création du répertoire <span class="s1">&#39;Tp/Divers/Executables&#39;</span>
<span class="nv">$ </span>tree
.
├── bin
└── Tp
    ├── Bourne
    ├── Divers
    │   ├── Executables
    │   ├── lib
    │   └── Sources
    └── KornShell
</pre></div>

<ol start="9">
<li>Positionnez-vous dans le répertoire Sources. Dans ce répertoire, créer un fichier qui
comporte, dans son nom, un astérisque.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>mkdir <span class="s1">&#39;test*&#39;</span>
</pre></div>

<ol start="10">
<li>Sans vous déplacez dans l’arborescence, essayer de supprimer le répertoire Sources en
utilisant la commande rmdir. Que constatez-vous ?</li>
</ol>
<div class="highlight"><pre>$ rmdir Sources/
  rmdir: impossible de supprimer &#39;Sources/&#39;: Le dossier n&#39;est pas vide
</pre></div>

<ol start="11">
<li>Supprimer le répertoire Divers en utilisant la commande rm.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>rm Divers/ -fRv
répertoire <span class="s1">&#39;Divers/Executables&#39;</span> supprimé
répertoire <span class="s1">&#39;Divers/lib&#39;</span> supprimé
répertoire <span class="s1">&#39;Divers/Sources/test*&#39;</span> supprimé
répertoire <span class="s1">&#39;Divers/Sources&#39;</span> supprimé
répertoire <span class="s1">&#39;Divers/&#39;</span> supprimé
</pre></div>

<ol start="12">
<li>Bonus 1 : 
Après vous être positionné dans votre répertoire d&rsquo;accueil, afficher la liste détaillée des fichiers
répondants aux critères suivants :
- ils sont présents directement dans /etc
- leurs noms finissent par l&rsquo;extension .conf
- la première lettre est une consonne, celle précédant l&rsquo;extension est comprise entre f et s
- ils comportent exactement 6 lettres (hors extension).</li>
</ol>
<div class="highlight"><pre>$ ls /etc/ | egrep -i &quot;([^aeiou]*[f-s]){6}.conf&quot;  
rsyslog.conf

$ ls /etc/[!aeiouy][a-z0-9][a-z0-9][a-z0-9][f-s].conf
</pre></div>

<ol start="12">
<li>Bonus 2 : 
Créer un répertoire &ldquo;startup rc3&rdquo; dans votre répertoire d&rsquo;accueil. Ce dossier devra contenir les
liens symboliques des fichiers commençant par &ldquo;S&rdquo; + 2 chiffres situés dans /etc/rc3.d.
La commande vous permettant de réaliser cette action devra vous afficher le détail des opérations
effectuées.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>mkdir ~/startup rc3 <span class="o">&amp;&amp;</span> <span class="nb">cd</span> <span class="nv">$_</span>
<span class="nv">$ </span>cp -sv /etc/rc3.d/S* .
<span class="s1">&#39;/etc/rc3.d/S01bind9&#39;</span> -&gt; <span class="s1">&#39;./S01bind9&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01console-setup.sh&#39;</span> -&gt; <span class="s1">&#39;./S01console-setup.sh&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01cron&#39;</span> -&gt; <span class="s1">&#39;./S01cron&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01dbus&#39;</span> -&gt; <span class="s1">&#39;./S01dbus&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01lvm2-lvmpolld&#39;</span> -&gt; <span class="s1">&#39;./S01lvm2-lvmpolld&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01rsyslog&#39;</span> -&gt; <span class="s1">&#39;./S01rsyslog&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01ssh&#39;</span> -&gt; <span class="s1">&#39;./S01ssh&#39;</span>
<span class="s1">&#39;/etc/rc3.d/S01sudo&#39;</span> -&gt; <span class="s1">&#39;./S01sudo&#39;</span>
</pre></div>

<p><strong>Créer des liens symboliques au lieu d&rsquo;une copie</strong> :</p>
<div class="highlight"><pre><span class="nv">$ </span>cp  -s, --symbolic-link
</pre></div>

<ol start="13">
<li>Bonus 3 : 
Afficher la liste détaillée des fichiers ou répertoires présents directement 
dans le point d&rsquo;arborescence destiné à l’hébergement de journaux, dont 
la première lettre est une consonne, la troisième une voyelle et dont 
l&rsquo;extension est soit log, soit warn. La commande trouvée ne devra posséder 
qu&rsquo;un seul argument.</li>
</ol>
<div class="highlight"><pre>$ ls /var/log/[^aeuio]?[aeiou]*.{log,warn} 
  ls: impossible d&#39;accéder à &#39;/var/log/[^aeuio]?[aeiou]*.warn&#39;: Aucun fichier ou dossier de ce type
  /var/log/daemon.log

$ ls /var/log/[^aeuio]?[aeiou]*.{log,warn} 2&gt;/dev/null
  /var/log/daemon.log
</pre></div>

<h3 id="tp-03-afficher-le-contenu-des-fichiers">TP 03 - Afficher le contenu des fichiers<a class="headerlink" href="#tp-03-afficher-le-contenu-des-fichiers" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>Créez un nouveau fichier appelé MonDeuxiemeFichier à l&rsquo;aide de la commande cat, dont le
contenu sera :</li>
</ol>
<div class="highlight"><pre>Conseil :
pour bien utiliser la ligne de commande
faire des étirements de doigts avant chaque repas.
</pre></div>

<div class="highlight"><pre>$ cat &gt; MonDeuxiemeFichier &lt;&lt; DELIM
&gt; Conseil :
&gt; pour bien utiliser la ligne de commande
&gt; faire des étirements de doigts avant chaque repas.
&gt; DELIM
$ cat MonDeuxiemeFichier 
Conseil :
pour bien utiliser la ligne de commande
faire des étirements de doigts avant chaque repas.
</pre></div>

<ol start="2">
<li>Créez un fichier MonTroisiemeFichier avec cat, contenant le texte :</li>
</ol>
<div class="highlight"><pre>Ne pas oublier de lire au moins 4 pages de man avant d&#39;aller se coucher
</pre></div>

<div class="highlight"><pre>$ cat &gt; MonTroisiemeFichier
Ne pas oublier de lire au moins 4 pages de man avant d&#39;aller se coucher
&lt;CTRL-D&gt;
$ cat MonTroisiemeFichier 
Ne pas oublier de lire au moins 4 pages de man avant d&#39;aller se coucher
</pre></div>

<ol start="3">
<li>Créez un nouveau fichier fichier2+3 par concaténation des deux fichiers 
qui viennent d&rsquo;être créés.</li>
</ol>
<div class="highlight"><pre>$ cat MonDeuxiemeFichier MonTroisiemeFichier &gt; fichier2+3
$ cat fichier2+3 
Conseil :
pour bien utiliser la ligne de commande
faire des étirements de doigts avant chaque repas.
Ne pas oublier de lire au moins 4 pages de man avant d&#39;aller se coucher
</pre></div>

<ol start="4">
<li>Combien de comptes d&rsquo;utilisateurs ont été créés sur la machine, sachant que le fichier
contenant les utilisateurs est /etc/passwd et qu&rsquo;une ligne correspond à un utilisateur ?</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>cat /etc/passwd <span class="p">|</span> wc -l
62
<span class="nv">$ </span>wc -l /etc/passwd
<span class="m">62</span> /etc/passwd
</pre></div>

<ol start="5">
<li>Afficher uniquement les 2 premières lignes du fichier /etc/hosts.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>head -2 /etc/hosts
    127.0.0.1       localhost
    127.0.1.1       srv-formateur
</pre></div>

<h3 id="tp-04-les-liens">TP 04 - Les Liens<a class="headerlink" href="#tp-04-les-liens" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>Créez un <strong>lien physique</strong> (<code>ln ORIGIN NEW</code>) du fichier Edition vers le fichier edition1.txt, 
vérifiez que vous pouvez afficher son contenu.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ln Edition edition1.txt  
<span class="nv">$ </span>ls
 bin          edition1.txt   MonDeuxiemeFichier   <span class="s1">&#39;startup rc3&#39;</span>
 concat.tar   fichier2+3     MonPremierFichier     test.txt
 Edition      foo            MonTroisiemeFichier   Tp
<span class="nv">$ </span>ls -l
total 56
-rw-r--r-- <span class="m">2</span> user15 user15   <span class="m">590</span> juin  <span class="m">22</span>  <span class="m">2021</span>  Edition
-rw-r--r-- <span class="m">2</span> user15 user15   <span class="m">590</span> juin  <span class="m">22</span>  <span class="m">2021</span>  edition1.txt
<span class="nv">$ </span>cat edition1.txt 
&lt;OK&gt;
</pre></div>

<ol start="2">
<li>Créez un <strong>lien symbolique</strong> (<code>ln -s ORIGIN NEW</code>) du fichier edition1.txt vers le fichier 
/tmp/stagxx/edition2.txt, vérifiez que vous pouvez afficher son contenu.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>mkdir /tmp/stag15 
<span class="nv">$ </span>ln -s edition1.txt /tmp/stag15/edition2.txt
<span class="nv">$ </span>ls -l /tmp/stag15
total 0
lrwxrwxrwx <span class="m">1</span> user15 user15 <span class="m">12</span> févr. <span class="m">14</span> 15:55 edition2.txt -&gt; edition1.txt
</pre></div>

<ol start="3">
<li>Créez un <strong>lien physique</strong> du fichier edition1.txt vers le fichier 
edition3.txt, vérifiez que vous pouvez afficher son contenu.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ln edition1.txt edition3.txt
</pre></div>

<ol start="4">
<li>Affichez avec la commande ls les caractéristiques de ces 4 fichiers 
en mettant en évidence les différences.</li>
</ol>
<p><div class="highlight"><pre><span class="nv">$ </span>ls -li edition* /tmp/stag15/edition2.txt 
<span class="m">915720</span> -rw-r--r-- <span class="m">3</span> user15 user15 <span class="m">604</span> févr. <span class="m">14</span> 16:02 edition1.txt
<span class="m">915720</span> -rw-r--r-- <span class="m">3</span> user15 user15 <span class="m">604</span> févr. <span class="m">14</span> 16:02 edition3.txt
<span class="m">264635</span> lrwxrwxrwx <span class="m">1</span> user15 user15  <span class="m">12</span> févr. <span class="m">14</span> 15:55 /tmp/stag15/edition2.txt -&gt; edition1.txt
</pre></div>
Si on modifie un des fichiers en hard link, les modif sont répercutées 
sur les autres fichiers en hard link. Même inode</p>
<ol start="5">
<li>Supprimez le fichier edition1.txt, pouvez-vous afficher le contenu de
edition2.txt et edition3.txt ?</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>rm ~/edition1.txt
<span class="nv">$ </span>cat ~/edition3.txt
&lt;ok&gt;
<span class="nv">$ </span>cat /tmp/stag15/edition2.txt 
cat: /tmp/stag15/edition2.txt: Aucun fichier ou dossier de ce <span class="nb">type</span>
<span class="nv">$ </span>ls /tmp/stag15/edition2.txt -li
<span class="m">264635</span> lrwxrwxrwx <span class="m">1</span> user15 user15 <span class="m">12</span> févr. <span class="m">14</span> 15:55 /tmp/stag15/edition2.txt -&gt; edition1.txt
</pre></div>

<h3 id="tp-05-recherche-de-contenu-et-de-fichiers">TP 05 - Recherche de contenu et de fichiers<a class="headerlink" href="#tp-05-recherche-de-contenu-et-de-fichiers" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>Recherchez toutes les lignes contenant Dupont dans le fichier Edition.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>grep Dupont Edition
Dupont Jean 111111
Dupont Jean 111111
Dupont Patrice 222222
Dupont Jojo 999999
Dupont Pierre 222222
</pre></div>

<ol start="2">
<li>Recherchez toutes les lignes contenant dupont quel que soit la casse 
dans le fichier Edition.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>grep -i dupont Edition
Dupont Jean 111111
Dupont Jean 111111
Dupont Patrice 222222
Dupont Jojo 999999
Dupont Pierre 222222
</pre></div>

<ol start="3">
<li>Affichez toutes les lignes non vides du fichier Edition.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>grep -n <span class="s2">&quot;\S&quot;</span> Edition
1:Aboaf Maurice 244748
2:Adda Jen 239234
3:Allo Jean-Pierre 255398
4:Ben Raf 238899
6:Bernard Jean-Paul 234567
7:ChasserAt Paul 245678
8:Cousin Pascal 222222
9:Froideceaux Michel 252423
10:Gros Lucien 212121
11:Cayrol Patrice 123456
12:Beux Leon 567891
13:Dupont Jean 111111
14:Dupont Jean 111111
16:Dupont Patrice 222222
17:Dupont Jojo 999999
18:Dupont Pierre 222222
19:Pavageau Andre 222222
20:Serpinet Roland
22:Holka Tadeusz 333333
23:Senechal Yves 245646
24:Gross Parcal 245367
25:Fiquet Paul 265746
26:Firon Pascale 123456
28:Pecheur Francois 223456
29:Grosbois Anne 123456
30:Fiancet Henri 098765
31:Couteau Jean 456378
32:Causse Claude
33:Blanche Michele
34:Sandra Housse
</pre></div>

<ol start="4">
<li>Listez les fichiers contenant localhost dans le répertoire /etc sans 
inclure les sous-répertoires.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>grep -nd localhost /etc/*
grep: argument « localhost » incorrect pour « --directories »
Les arguments valables sont :
  - « <span class="nb">read</span> »
  - « recurse »
  - « skip »
Usage: grep <span class="o">[</span>OPTION<span class="o">]</span>... PATTERNS <span class="o">[</span>FILE<span class="o">]</span>...
Exécutez « grep --help » pour obtenir des renseignements complémentaires.

<span class="nv">$ </span>grep -nd skip localhost /etc/*
grep: /etc/gshadow: Permission non accordée
grep: /etc/gshadow-: Permission non accordée
/etc/hosts:1:127.0.0.1  localhost
/etc/hosts:5:::1     localhost ip6-localhost ip6-loopback
/etc/reportbug.conf:66:# smtphost localhost
grep: /etc/shadow: Permission non accordée
grep: /etc/shadow-: Permission non accordée
grep: /etc/sudoers: Permission non accordée

<span class="nv">$ </span>grep -nd skip localhost /etc/* 2&gt;/dev/null
/etc/hosts:1:127.0.0.1  localhost
/etc/hosts:5:::1     localhost ip6-localhost ip6-loopback
/etc/reportbug.conf:66:# smtphost localhost
</pre></div>

<ol start="5">
<li>Recherchez tous les fichiers standards commençant par ho à partir du répertoire /etc.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>find /etc/ -type f -iname ho* 2&gt;/dev/null
/etc/host.conf
/etc/hosts
/etc/apparmor.d/tunables/home
/etc/hosts.allow
/etc/hosts.deny
/etc/hostname
</pre></div>

<ol start="6">
<li>Recherchez tous les répertoires depuis votre répertoire personnel.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>find ~ -type d
/home/user15
/home/user15/Tp
/home/user15/Tp/KornShell
/home/user15/Tp/Bourne
/home/user15/startup rc3
/home/user15/MonPremierFichier
/home/user15/bin
</pre></div>

<ol start="7">
<li>Recherchez tous les fichiers standards de votre répertoire personnel se terminant par txt et
en faire une copie avec l&rsquo;extension .save.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>find . -type f -iname <span class="s2">&quot;*.txt&quot;</span>
./test.txt
./edition3.txt
<span class="nv">$ </span>find . -type f -iname <span class="s2">&quot;*.txt&quot;</span> -exec cp <span class="s2">&quot;{}&quot;</span> <span class="s2">&quot;{}.save&quot;</span> <span class="se">\;</span>
<span class="nv">$ </span>ls
 bin            edition3.txt.save    MonPremierFichier     test.txt.save
 concat.tar     fichier2+3           MonTroisiemeFichier   Tp
 Edition        foo                 <span class="s1">&#39;startup rc3&#39;</span>
 edition3.txt   MonDeuxiemeFichier   test.txt
</pre></div>

<p>Bonus 1 :
Recherchez depuis /home les fichiers présents directement à la racine des répertoires personnels
dont le nom se termine par “ition”.</p>
<div class="highlight"><pre><span class="nv">$ </span>find /home -type f -iname *ition 2&gt;/dev/null
/home/user34/Edition  /home/user01/Edition  /home/user19/Edition  /home/user11/Edition
/home/user25/Edition  /home/user23/Edition  /home/user04/Edition  /home/user09/Edition
/home/user35/Edition  /home/user13/Edition  /home/user30/Edition  /home/user21/Edition
/home/user22/Edition  /home/user24/Edition  /home/user18/Edition  /home/user06/Edition  
/home/user33/Edition  /home/user28/Edition  /home/user16/Edition  /home/user31/Edition  
/home/user02/TP4/Edition /home/user15/Edition /home/user32/Edition /home/user14/Edition
/home/user08/Edition  /home/user27/Edition  /home/user29/Edition  /home/user03/Edition
/home/user20/Edition  /home/user26/Edition  /home/user07/Edition  /home/user17/Edition
/home/user12/Edition  /home/user05/Edition  /home/user10/Edition
</pre></div>

<p>Bonus 2 :
En reprenant les critères du Bonus 1, chaque élément trouvé devra être affiché sur une ligne, seuls
le nom du fichier (sans son chemin) et le jour de la semaine seront à afficher.</p>
<div class="highlight"><pre><span class="nv">$ </span>find /home -type f -iname *ition  -exec <span class="nb">echo</span> <span class="k">$(</span>basename <span class="s2">&quot;{}&quot;</span><span class="k">)</span> <span class="k">$(</span>date +<span class="s2">&quot;%A&quot;</span><span class="k">)</span> <span class="se">\;</span> 2&gt;/dev/null
/home/user34/Edition mardi
/home/user01/Edition mardi
/home/user19/Edition mardi
/home/user11/Edition mardi
/home/user25/Edition mardi
/home/user23/Edition mardi
/home/user04/Edition mardi
/home/user09/Edition mardi
/home/user35/Edition mardi
/home/user13/Edition mardi
/home/user30/Edition mardi
/home/user21/Edition mardi
/home/user22/Edition mardi
/home/user24/Edition mardi
/home/user18/Edition mardi
/home/user06/Edition mardi
/home/user33/Edition mardi
/home/user28/Edition mardi
/home/user16/Edition mardi
/home/user31/Edition mardi
/home/user02/TP4/Edition mardi
/home/user15/Edition mardi
/home/user32/Edition mardi
/home/user14/Edition mardi
/home/user08/Edition mardi
/home/user27/Edition mardi
/home/user29/Edition mardi
/home/user03/Edition mardi
/home/user20/Edition mardi
/home/user26/Edition mardi
/home/user07/Edition mardi
/home/user17/Edition mardi
/home/user12/Edition mardi
/home/user05/Edition mardi
/home/user10/Edition mardi

<span class="nv">$ </span>find /home -type f -iname *ition -printf <span class="s2">&quot;%p %TA \n&quot;</span> 2&gt;/dev/null
<span class="o">[</span>...<span class="o">]</span>
</pre></div>

<p>Bonus 3 :
Trouvez TOUS les fichiers que votre utilisateur peut modifier sur le système.</p>
<div class="highlight"><pre><span class="nv">$ </span>find / -writable 2&gt;/dev/null
<span class="o">[</span>...<span class="o">]</span>
<span class="nv">$ </span>find / -user user18 -writable 2&gt;/dev/null
<span class="o">[</span>...<span class="o">]</span>
<span class="nv">$ </span>find / -user user18 -writable -perm <span class="m">664</span> 2&gt;/dev/null
<span class="o">[</span>...<span class="o">]</span>
</pre></div>

<p>Ultra-bonus :
Trouvez la méthode la plus rapide pour répondre au Bonus 3.</p>
<div class="highlight"><pre><span class="nv">$ </span>find / -writable 2&gt;/dev/null
<span class="o">[</span>...<span class="o">]</span>
</pre></div>

<h3 id="tp-06-edition-de-texte-avec-vim">TP 06 - Edition de texte avec vim<a class="headerlink" href="#tp-06-edition-de-texte-avec-vim" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>Ouvrir le fichier Edition de votre répertoire d&rsquo;accueil avec vi.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>vim Edition
</pre></div>

<ol start="2">
<li>Le premier Dupont Jean se prénomme en fait Jean-Jacques. Rechercher la première
occurrence de Dupont Jean.</li>
</ol>
<div class="highlight"><pre>/Dupont Jean
</pre></div>

<ol start="3">
<li>Déplacez-vous sur le n de Jean puis insérer -Jacques.
E : goto end WORD
A : append at eol
a : append</li>
</ol>
<div class="highlight"><pre>/Dupont Jean
EE
a
<span class="nb">type</span> <span class="s1">&#39;-Jacques&#39;</span>
echap
:wq
</pre></div>

<ol start="4">
<li>De la même manière, rechercher Dupont Pierre et insérer Jean- après 
vous être placé sur le &lsquo;P&rsquo; de Pierre.
W : next WORD
w : next word
i : insertion</li>
</ol>
<div class="highlight"><pre>/Dupont Pierre
w
i
Jean-
</pre></div>

<ol start="5">
<li>Replacez-vous en début de fichier.
H : goto screen top
L : goto screen bottom</li>
</ol>
<div class="highlight"><pre>H
</pre></div>

<ol start="6">
<li>Chercher le premier Dupont et insérer sur la ligne précédente votre nom et prénom.
o : append (open) a new line below the current line
O : append (open) a new line above the current line</li>
</ol>
<div class="highlight"><pre>/Dupont
O
Marcel Pythagore 666
echap
:w
</pre></div>

<ol start="7">
<li>Entrer le nom et le prénom de votre voisin après la ligne du dernier Dupont. 
Déplacez-vous dans le fichier sur les différentes occurrences avec les 
touches &lsquo;n&rsquo; et &lsquo;N&rsquo;.
n : next find
N : prev find</li>
</ol>
<div class="highlight"><pre>/Dupont
nnnnn
o
Micheline Socrates 456789
echap
:w
</pre></div>

<ol start="8">
<li>Enregistrer les modifications apportées au fichier et sortir de l&rsquo;éditeur.</li>
</ol>
<div class="highlight"><pre>:wq
</pre></div>

<ol start="9">
<li>Dupont Jean s&rsquo;appelle en fait Merlin-Duval Jean. 
Recherchez Dupont Jean et changez Dupont par Merlin-Duval.</li>
</ol>
<div class="highlight"><pre>:%s/^Dupont Jean /Merlin-Duval Jean /
</pre></div>

<ol start="10">
<li>Supprimer la ligne Couteau Jean après l&rsquo;avoir retrouvée.</li>
</ol>
<div class="highlight"><pre>/Couteau
dd
</pre></div>

<ol start="11">
<li>Changer tous les Dupont en Durand.</li>
</ol>
<div class="highlight"><pre>:%s/^Dupont /Durand /g
</pre></div>

<ol start="12">
<li>Déplacer toutes les lignes contenant Durand en fin de fichier.</li>
</ol>
<ul>
<li><code>:10,20t 100</code>     copie les lignes de 10 a 20 a la 100 eme ligne .</li>
<li><code>:10,20m 100</code>     deplace les lignes de 10 a 20 a la 100 eme ligne .</li>
<li><code>:10,20y</code>         met dans le buffer les 10 lignes de 10 a 20.</li>
<li><code>:100,$m 50</code>      deplace les lignes 100 jusqu&rsquo;a la fin du fichier vers la 50 eme ligne.</li>
<li><code>yy</code>              copie la ligne courante dans le buffer .</li>
<li><code>p</code>               colle le buffer dans le texte.</li>
</ul>
<p>m$ envoie à la fin du fichier
m100 envoie à la ligne 100</p>
<div class="highlight"><pre>:g/Durand/m<span class="err">$</span>
</pre></div>

<ol start="13">
<li>Ajouter un second Ben Raf, en dupliquant la ligne existante.</li>
</ol>
<p>Action contexte sensitif, ou substitution puissance 10
On peut demander a VI de faire une action sur une phrase uniquement si cette derniere contient un motif textuel.</p>
<p>Syntaxe: &ldquo;:g/chaine/commande&rdquo;
- <code>:g/micrisoft/s/windows/linux/g</code>  changes windows par linux uniquement dans les lignes ou &ldquo;micrisoft&rdquo; se trouve .
- <code>:g/</code>^[ ]*$/d<code>supprime toutes les lignes vides.
-</code>:g/linux/t 0<code>copie en haut du texte toutes les lignes contenants linux
-</code>:g/linux/t .<code>copie en haut du texte toutes les lignes contenants linux
-</code>:g/linux/cd 80<code>centre tous les lignes contenant linux
-</code>:g!/linux/d<code>efface toutes les lignes ne contenant pas linux
-</code>:v/linux/d`  idem </p>
<div class="highlight"><pre>:g/Ben Raf/t .
</pre></div>

<ol start="14">
<li>Sans sortir de la session vi, afficher la date et l&rsquo;heure (pour 
savoir si c&rsquo;est l&rsquo;heure de la pause).</li>
</ol>
<p><div class="highlight"><pre>.!date
</pre></div>
Insert au curseur (remplace la ligne)</p>
<ol start="15">
<li>Créer un fichier .vimrc dans le répertoire de connexion ($HOME), dont 
le contenu va permettre d&rsquo;afficher les numéros de lignes, de positionner 
les tabulations tous les 5 caractères et de passer en mode non compatible 
(Linux uniquement).
Recherche globale avec remplacement.</li>
</ol>
<div class="highlight"><pre><span class="s2">&quot;line numbers</span>
<span class="s2">set nu</span>

<span class="s2">&quot;</span>tab space
<span class="nb">set </span><span class="nv">ts</span><span class="o">=</span><span class="m">5</span> <span class="nv">sw</span><span class="o">=</span>5

<span class="s2">&quot;syntax highlight</span>
<span class="s2">syntax on</span>

<span class="s2">&quot;</span>non compatible
<span class="nb">set </span>nocompatible
</pre></div>

<ol start="16">
<li>Rechercher et remplacez tous les Durand en Dupont.</li>
</ol>
<div class="highlight"><pre>:%s/^Durand/Dupont/g
</pre></div>

<ol start="17">
<li>Substituer Jean en Jean-Paul.</li>
</ol>
<div class="highlight"><pre>:%s/Jean /Jean-Paul /g
</pre></div>

<ol start="18">
<li>Substituer Jean en JEAN (sans écrire JEAN dans l&rsquo;expression régulière).</li>
</ol>
<h1 id="permet-domettre-lechappement-des-characteres-speciaux">permet d&rsquo;omettre l&rsquo;echappement des characteres spéciaux<a class="headerlink" href="#permet-domettre-lechappement-des-characteres-speciaux" title="Permanent link"></a></h1>
<div class="highlight"><pre>:%s#Jean#<span class="se">\U</span><span class="p">&amp;</span><span class="c1">#</span>
:%s/Jean/<span class="se">\U</span><span class="p">&amp;</span>/
</pre></div>

<ol start="19">
<li>Substituer JEAN en Jean en modifiant le séparateur de l&rsquo;expression régulière.</li>
</ol>
<div class="highlight"><pre>:%s/JEAN/<span class="se">\L</span><span class="p">&amp;</span>/
</pre></div>

<p>Pas tout à fait ça mais osef</p>
<ol start="20">
<li>Substituer Jean en Jean-Jean sur tout le texte.</li>
</ol>
<div class="highlight"><pre>:%s/jean/<span class="p">&amp;</span>-<span class="p">&amp;</span>/

:g/Jean/s//Jean-Jean/g
</pre></div>

<ol start="21">
<li>Ajouter (033) devant chaque numéro (en fin de ligne) commençant par 1,2 ou 3.
Exemple : Frederic Thouin (033)124666</li>
</ol>
<div class="highlight"><pre>:%s/<span class="se">\&lt;</span><span class="o">[</span>1-3<span class="o">]</span>/<span class="o">(</span>033<span class="o">)</span><span class="p">&amp;</span>/
</pre></div>

<ol start="22">
<li>Ajouter 0 (zéro) à la fin de toutes les lignes qui commencent par &lsquo;F&rsquo;.</li>
</ol>
<div class="highlight"><pre>:g/^F/s/<span class="nv">$/</span>0/g
</pre></div>

<ol start="23">
<li>Bonus : Reformater le texte avec vim sans entrer dans vim, pour toutes 
les lignes comportant un nom, prénom et numéro de la façon suivante :</li>
</ol>
<div class="highlight"><pre>Prénom
NOM(en MAJUSCULE)
Tel : numéro de téléphone
</pre></div>

<h3 id="tp-07-redirections-dentreessorties">TP 07 - Redirections d&rsquo;entrées/sorties<a class="headerlink" href="#tp-07-redirections-dentreessorties" title="Permanent link"></a></h3>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<ol>
<li>Listez tous les processus qui finissent par un d. Le résultat sera 
stocké dans $HOME/process/daemons.txt.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ps aux <span class="p">|</span> egrep <span class="s2">&quot;d</span><span class="nv">$&quot;</span><span class="s2"></span>
<span class="s2">root        423  0.0  0.1  19600  7448 ?        Ss   févr.14   0:01 /lib/systemd/systemd-logind</span>
<span class="s2">systemd+   8052  0.0  0.1  93080  6540 ?        Ssl  févr.14   0:00 /lib/systemd/systemd-timesyncd</span>
<span class="s2">root       8056  0.0  0.3  39860 12724 ?        Ss   févr.14   0:01 /lib/systemd/systemd-journald</span>
<span class="s2">root      18299  0.0  0.1  21792  4756 ?        Ss   févr.14   0:00 /lib/systemd/systemd-udevd</span>
<span class="s2">bind      23362  0.0  0.5 160472 23600 ?        Ssl  févr.14   0:00 /usr/sbin/named -u bind</span>
<span class="s2">user19    43795  0.0  0.0   8796  3792 pts/7    S+   11:27   0:00 man find</span>
<span class="s2">user19    43804  0.0  0.0   8796   892 pts/7    S+   11:27   0:00 man find</span>

<span class="nv">$ </span><span class="s2">mkdir </span><span class="nv">$HOME</span><span class="s2">/process</span>
<span class="nv">$ </span><span class="s2">ps aux | egrep &quot;</span>d<span class="nv">$&quot;</span> &gt; <span class="nv">$HOME</span>/process/daemons.txt
</pre></div>

<ol start="2">
<li>Recherchez les fichiers dont le nom se termine par .conf à partir de 
la racine. Cette recherche ne devra être effectuée que sur le système de 
fichier racine. Le résultat sera affiché à l&rsquo;écran tout en étant stocké 
dans le fichier $HOME/resultats/fichiers.conf.</li>
</ol>
<p>Pour rediriger un output à la fois vers l&rsquo;ecran (stdout) et un fichier, il faut utiliser tee en pipe.</p>
<pre><code>The command you want is named tee:
```
foo | tee output.file
```
For example, if you only care about stdout:
```
ls -a | tee output.file
```
If you want to include stderr, do:
```
program [arguments...] 2&gt;&amp;1 | tee outfile
```
</code></pre>
<div class="highlight"><pre><span class="nv">$ </span>mkdir <span class="nv">$HOME</span>/resultats
<span class="nv">$ </span>find / -type f -iname  *.conf 2&gt;/dev/null <span class="p">|</span> tee resultats/fichiers.conf 
<span class="o">[</span>...<span class="o">]</span>
</pre></div>

<ol start="3">
<li>La commande précédente a duré un certain temps, comment connaître le 
temps exact d’exécution de celle-ci ?</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span><span class="nb">time</span> &lt;<span class="nb">command</span>&gt;
<span class="o">[</span>...<span class="o">]</span>
real    0m0,291s
user    0m0,149s
sys     0m0,139s
</pre></div>

<ol start="4">
<li>En une commande, renvoyez dans le fichier $HOME/resultats/compteur.txt 
le nombre de fichiers trouvés au point 2, sans utiliser le fichier 
fichiers.conf. Le résultat devra comporter uniquement ce nombre (ce 
résultat sera réutilisé dans des scripts).</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>find / -type f -iname  *.conf 2&gt;/dev/null <span class="p">|</span> wc -l &gt; <span class="nv">$HOME</span>/resultats/compteur.txt 
113
</pre></div>

<h3 id="tp-08-sauvegarde-de-fichiers">TP 08 - Sauvegarde de fichiers<a class="headerlink" href="#tp-08-sauvegarde-de-fichiers" title="Permanent link"></a></h3>
<h4 id="setup_1">Setup<a class="headerlink" href="#setup_1" title="Permanent link"></a></h4>
<ul>
<li>Activer VPN</li>
<li>Connection à une vm de l&rsquo;ENI en ssh 
<div class="highlight"><pre><span class="nv">$ </span>ssh user15@10.52.101.21              <span class="c1"># de 6 à 21</span>
&gt; secret                               <span class="c1"># ou kc</span>
</pre></div></li>
</ul>
<h4 id="questions">Questions<a class="headerlink" href="#questions" title="Permanent link"></a></h4>
<h5 id="1-tar-cvf-creation">1. tar -cvf : Création<a class="headerlink" href="#1-tar-cvf-creation" title="Permanent link"></a></h5>
<ol>
<li>Réaliser une sauvegarde de votre répertoire personnel dans /tmp, en 
utilisant votre login pour le nommage du fichier, noter sa taille.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>tar -cvf /tmp/u15.tar /home/user15
<span class="o">[</span>...<span class="o">]</span>
<span class="nv">$ </span>ls -l /tmp/u15.tar 
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 16:14 /tmp/u15.tar
</pre></div>

<h5 id="3-tar-czvf-compression-en-gzip-targz">3. tar -czvf : Compression en gzip (tar.gz)<a class="headerlink" href="#3-tar-czvf-compression-en-gzip-targz" title="Permanent link"></a></h5>
<ol start="2">
<li>Créer une nouvelle archive de votre répertoire personnel, mais cette 
fois-ci en la compressant avec gzip, l&rsquo;opération devant être réalisée en 
une seule instruction.</li>
</ol>
<div class="highlight"><pre>tar -czvf name-of-archive.tar.gz /path/to/directory-or-file
</pre></div>

<p>Here’s what those switches actually mean:</p>
<pre><code>-c: Create an archive.
-z: Compress the archive with gzip.
-v: Display progress in the terminal while creating the archive, also known as “verbose” mode. The v is always optional in these commands, but it’s helpful.
-f: Allows you to specify the filename of the archive.
</code></pre>
<div class="highlight"><pre><span class="nv">$ </span>tar -czvf /tmp/u15.tar.gz <span class="nv">$HOME</span>
<span class="o">[</span>...<span class="o">]</span>
<span class="nv">$ </span>ls -l /tmp/u15*
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 16:14 /tmp/u15.tar
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">8206</span> févr. <span class="m">15</span> 16:27 /tmp/u15.tar.gz
</pre></div>

<h5 id="3-tar-cvjf-compression-en-bzip2-tarbz2">3. tar -cvjf : Compression en bzip2 (tar.bz2)<a class="headerlink" href="#3-tar-cvjf-compression-en-bzip2-tarbz2" title="Permanent link"></a></h5>
<ol start="3">
<li>Répéter l&rsquo;étape précédente en utilisant cette fois-ci une compression au format bzip2.</li>
</ol>
<p>c = create, v = verbose, j = bz2 compression, f = output file name</p>
<div class="highlight"><pre><span class="nv">$ </span>tar -cvjf /tmp/u15.tar.bz2 <span class="nv">$HOME</span>
<span class="o">[</span>...<span class="o">]</span>
</pre></div>

<h5 id="4-comparer-les-tailles-darchives-tar-tarbz2-targz">4. Comparer les tailles d&rsquo;archives (tar &gt; tar.bz2 &gt; tar.gz)<a class="headerlink" href="#4-comparer-les-tailles-darchives-tar-tarbz2-targz" title="Permanent link"></a></h5>
<ol start="4">
<li>Comparer la taille des trois archives, laquelle est la moins volumineuse ?</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>ls -l /tmp/u15*
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 16:14 u15.tar
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">9160</span> févr. <span class="m">15</span> 18:33 u15.tar.bz2
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">8206</span> févr. <span class="m">15</span> 16:27 u15.tar.gz
</pre></div>

<h5 id="5-tar-xvf-decompression-restauration">5. tar -xvf : Décompression / Restauration<a class="headerlink" href="#5-tar-xvf-decompression-restauration" title="Permanent link"></a></h5>
<p>Dans votre répertoire de connexion, créer le répertoire Restaurations.
Restaurer votre sauvegarde dans ce répertoire en une seule instruction.</p>
<div class="highlight"><pre><span class="nv">$ </span>mkdir restauration
<span class="nv">$ </span><span class="nb">cd </span>restauration/
<span class="nv">$ </span>tar xvf /tmp/u15.tar.gz
<span class="o">[</span>...<span class="o">]</span>
<span class="nv">$ </span>ls
home
</pre></div>

<h5 id="6-tar-cvf-footar-excludefile-bar-exclusion-de-repertoire">6. tar -cvf foo.tar &ndash;exclude=FILE bar/ : Exclusion de répertoire<a class="headerlink" href="#6-tar-cvf-footar-excludefile-bar-exclusion-de-repertoire" title="Permanent link"></a></h5>
<ol start="6">
<li>Créer une nouvelle sauvegarde, non compressée, en excluant ce répertoire.</li>
</ol>
<div class="highlight"><pre><span class="nv">$ </span>tar -cvf /tmp/u15_v2.tar --exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/restauration&quot;</span> <span class="nv">$HOME</span>
<span class="nv">$ </span>ls -l /tmp/u15*
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 16:14 /tmp/u15.tar
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">9160</span> févr. <span class="m">15</span> 18:33 /tmp/u15.tar.bz2
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">8206</span> févr. <span class="m">15</span> 16:27 /tmp/u15.tar.gz
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 20:47 /tmp/u15_v2.tar
</pre></div>

<p>ATTENTION à bien préciser le ou les dossiers à exclure avant l&rsquo;inclusion. </p>
<h5 id="7-tar-unvf-update-only-newer-files-exclude">7. tar -uNvf : update only newer files + exclude<a class="headerlink" href="#7-tar-unvf-update-only-newer-files-exclude" title="Permanent link"></a></h5>
<ol start="7">
<li>Créer dans votre répertoire d&rsquo;accueil un nouveau fichier vide et 
réaliser une mise à jour de votre archive avec votre répertoire d’accueil.</li>
</ol>
<p>Si la taille de l&rsquo;archive a &ldquo;doublé&rdquo;, vous n’avez pas réellement fait une mise à jour.</p>
<p>Effacez votre archive et recommencez.
Aidez-vous de la commande vous permettant de lister le contenu de l&rsquo;archive.</p>
<p><strong>Notes</strong></p>
<ul>
<li>Think of it this way, &ndash;update updates the TAR, not the files in the TAR. 
  So it is working as designed.</li>
<li><code>-N</code>, <code>--newer</code>, <code>--after-date=date</code>  Only store files whose data or 
  status has changed on or after date. If date is a file name, the date 
  of that file is used.</li>
</ul>
<p>Think of it this way, &ndash;update updates the TAR, not the files in the TAR. 
So it is working as designed.
<code>-N</code>, <code>--newer</code>, <code>--after-date=date</code>    Only store files whose data or status has changed on or after date. If date is a file name, the date of that file is used.</p>
<div class="highlight"><pre><span class="nv">$ </span>mkdir <span class="nv">$HOME</span>/dossier_vide
<span class="nv">$ </span>tar -uNvf /tmp/u15_v2.tar --exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/restauration&quot;</span> <span class="nv">$HOME</span>
<span class="o">[</span>...<span class="o">]</span> ok
<span class="nv">$ </span>ls -l /tmp/u15*
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 16:14 /tmp/u15.tar
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">9160</span> févr. <span class="m">15</span> 18:33 /tmp/u15.tar.bz2
-rw-r--r-- <span class="m">1</span> user15 user15  <span class="m">8206</span> févr. <span class="m">15</span> 16:27 /tmp/u15.tar.gz
-rw-r--r-- <span class="m">1</span> user15 user15 <span class="m">81920</span> févr. <span class="m">15</span> 21:32 /tmp/u15_v2.tar
<span class="nv">$ </span>tar -tf /tmp/u15_v2.tar 
<span class="o">[</span>...<span class="o">]</span> ok, pas de duplicatas
</pre></div>

<p>Script</p>
<div class="highlight"><pre><span class="ch">#!/bin/sh</span>

rmdir <span class="nv">$HOME</span>/dossier_vide 2&gt;/dev/null
rm /tmp/u15_v2*
<span class="nb">echo</span> <span class="s2">&quot;... Création de l&#39;archive&quot;</span>
tar -cvf /tmp/u15_v2.tar --exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/restauration&quot;</span> <span class="nv">$HOME</span>
ls -l /tmp/u15*
<span class="nb">echo</span> <span class="s2">&quot;... Ajout dossier vide&quot;</span>
mkdir <span class="nv">$HOME</span>/nouveau_dossier
<span class="nb">echo</span> <span class="s1">&#39;*********************************&#39;</span>
<span class="nb">echo</span> <span class="s2">&quot;... Update de l&#39;archive&quot;</span>
tar -uNf /tmp/u15_v2.tar --exclude<span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/restauration&quot;</span> <span class="nv">$HOME</span>
ls -l /tmp/u15*
tar -tf /tmp/u15_v2.tar
</pre></div>

<p><link rel="stylesheet" type="text/css" href=".ressources/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href=".ressources/css/style.css"></p></article></body></html>